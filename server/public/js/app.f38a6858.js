(function(t){function e(e){for(var a,o,n=e[0],d=e[1],c=e[2],l=0,p=[];l<n.length;l++)o=n[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(t[a]=d[a]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,n=1;n<s.length;n++){var d=s[n];0!==i[d]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},i={app:0},r=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],d=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=d;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0f68":function(t,e,s){"use strict";s("26ca")},1104:function(t,e,s){},"240d":function(t,e,s){"use strict";s("bdc9")},"26ca":function(t,e,s){},"31ef":function(t,e,s){"use strict";s("a06c")},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{attrs:{id:"nav"}},[e("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),e("router-link",{attrs:{to:"/about"}},[t._v("About")])],1),e("router-view"),e("Header")],1)},r=[],o=function(){var t=this,e=t._self._c;return e("header",{staticClass:"Login-bar"},[e("div",{staticClass:"container"},[e("h1",{staticClass:"logo-type"},[t._v("TODO")]),t.authenticated?e("div",{staticClass:"logout"},[t._v(" Hello "+t._s(t.user.name)+" "),e("button",{on:{click:t.deauthenticate}},[t._v("Sign out")])]):e("div",{staticClass:"login"},[e("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)])])},n=[],d=s("2f62"),c={name:"Header",props:{msg:String},computed:{...Object(d["c"])({authenticated:"userStore/authenticated",user:"userStore/user"})},methods:{...Object(d["b"])("userStore",["deauthenticate"])}},u=c,l=(s("83f0"),s("2877")),p=Object(l["a"])(u,o,n,!1,null,"712cf5a5",null),h=p.exports,m=function(){var t=this,e=t._self._c;return t.user?e("draggable",{staticClass:"tasks",class:{"tasks--loading":t.tasksLoading},attrs:{tag:"ul",group:"taskGroup",handle:".drag-handle"},on:{end:t.onDragEnd},model:{value:t.sortedTasks,callback:function(e){t.sortedTasks=e},expression:"sortedTasks"}},[t._l(t.sortedTasks,(function(s){return e("li",{key:s.uid,staticClass:"task container",class:{dropped:t.dropGroup.includes(s.uid)}},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.title,expression:"task.title"}],ref:s.uid,refInFor:!0,staticClass:"title task__title ellipsis",class:{resolved:s.resolved},attrs:{type:"text"},domProps:{value:s.title},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editTask({taskUid:s.uid,userId:t.user.uid,updates:{title:e.target.value}})},change:function(e){return t.editTask({taskUid:s.uid,userId:t.user.uid,updates:{title:e.target.value}})},input:function(e){e.target.composing||t.$set(s,"title",e.target.value)}}}),e("ChildTasks",{attrs:{uids:s.child_task_uids,parentUid:s.uid}}),e("TaskActions",{attrs:{task:s},on:{drop:t.drop}})],1)})),t.adding?e("li",{staticClass:"task container created"},[e("b-skeleton",{attrs:{animated:!0,size:"is-large",width:"50%",position:"is-centered"}})],1):t._e()],2):t._e()},k=[],g=(s("14d9"),s("b76a")),f=s.n(g),v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"child-tasks",class:{"side-entrance":!t.titlesMap}},[!t.subTaskAmt||t.titlesMap||t.loading?t._e():e("h6",{staticClass:"subtask-amount",on:{click:t.fetchTasks}},[t._v(" "+t._s(t.subTaskAmt)+" subtasks ")]),t.loading?e("b-loading",{staticClass:"child-tasks",attrs:{size:"is-small",active:t.loading,"is-full-page":!1}}):t.titlesMap?e("div",{staticClass:"child-tasks side-entrance"},[e("div",{staticClass:"icon-button",on:{click:function(e){t.titlesMap=null}}},[e("unicon",{attrs:{name:"arrow-left",fill:"currentColor"}})],1),e("ul",t._l(t.titlesMap,(function(s,a){return e("li",{key:a},[e("router-link",{attrs:{to:"/"+t.parentUid}},[e("span",[t._v(t._s(s))])])],1)})),0)]):t._e()],1)},b=[],T=(s("d9e2"),s("cee4"));const y=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_BASE_URL;console.log({baseURL:y});const S=T["a"].create({baseURL:y,timeout:5e3,headers:{"X-Requested-With":"XMLHttpRequest"}}),_=async({userId:t,taskUid:e})=>{try{const{data:s}=await S.get(y+"/task",{params:{userId:t,taskUid:e}});return console.log(s),s}catch(s){throw console.error("Error retrieving tasks:",s),new Error("Failed to retrieve tasks.")}},w=async({userId:t,taskUid:e})=>{if(!t)throw new Error("userId is required");const s={userId:t,parentTaskUid:e};try{const{data:t}=await S.get(y+"/tasks",{params:s});return t}catch(a){const{status:t,statusText:e}=a.response;throw console.error(`Error retrieving user tasks: ${t} ${e}`),new Error(`${t} ${e}`)}},E=async t=>{try{const{data:e}=await S.post(y+"/register",t);return e}catch(e){throw console.error("Error submitting register details:",e),new Error("Failed to submit register details.")}},O=async t=>{try{const{data:e}=await S.post(y+"/login",t);return{data:e}}catch(e){throw console.error("Error submitting login details:",e),new Error("Failed to submit login details.")}},C=async({taskUid:t,updates:e})=>{try{const{data:s}=await S.patch(y+"/tasks/edit",{taskUid:t,updates:e});return{data:s}}catch(s){throw console.error("Error editing task:",s),new Error("Failed to edit task.")}},P=async({taskUid:t,action:e,childTaskUid:s})=>{try{const{data:a}=await S.patch(y+"/tasks/add-remove-child",{taskUid:t,action:e,childTaskUid:s});return{data:a}}catch(a){throw console.error("Error adding/removing child task:",a),new Error("Failed to add/remove child task.")}},U=async({userId:t,title:e,parentTask:s=""})=>{try{const{data:a}=await S.post(y+"/tasks/create",{userId:t,title:e,parentTask:s});return console.log({data:a}),{data:a}}catch(a){throw console.error("Error adding task:",a),new Error("Failed to add task.")}},A=async({taskId:t})=>{try{const{data:e}=await S.delete(y+"/tasks/delete",{params:{taskId:t}});return{data:e}}catch(e){throw console.error("Error deleting task:",e),new Error("Failed to delete task.")}},x=async({uids:t})=>{try{const{data:e}=await S.get(y+"/tasks/titles/",{params:{uids:t}});return{data:e}}catch(e){throw console.error("Error retrieving task titles:",e),new Error("Failed to retrieve task titles.")}},I=async({uid:t})=>{try{const{data:e}=await S.get(y+"/tasks/breadcrumbs/",{params:{taskUid:t}});return{data:e}}catch(e){throw console.error("Error retrieving task titles:",e),new Error("Failed to retrieve task titles.")}};var j={name:"ChildTasks",data(){return{titlesMap:null,loading:!1}},props:{uids:{type:Array,default:()=>[]},parentUid:{type:String,default:""}},computed:{subTaskAmt(){return this.uids.length}},methods:{async fetchTasks(){if(this.uids.length){this.loading=!0;try{const t=await x({uids:this.uids.filter(t=>!!t)});this.titlesMap=t.data}catch(t){console.error(t)}this.loading=!1}}}},D=j,L=(s("240d"),s("0f68"),Object(l["a"])(D,v,b,!1,null,"aaa3d4e2",null)),q=L.exports,F=function(){var t=this,e=t._self._c;return e("div",{staticClass:"actions"},t._l(t.activeActions,(function(t){return e("b-tooltip",{key:t.name,attrs:{label:t.tooltip,type:"is-primary",position:"is-bottom",active:!!t.tooltip.length}},[e("div",{staticClass:"icon-button",class:{"drag-handle":"drag"===t.name,disabled:t.disabled},on:{click:t.method}},[e("unicon",{attrs:{name:t.icon,fill:"currentColor"}})],1)])})),1)},M=[],R={name:"TaskActions",props:{task:{type:Object,required:!0}},data(){return{newTaskTitle:"",dropGroup:[]}},computed:{...Object(d["c"])("tasksStore",["tasks","tasksLoading","parentLevel"]),...Object(d["c"])({user:"userStore/user"}),actions(){return{resolve:{name:"Check",icon:"check",tooltip:"Check",disabled:!1,method:()=>{this.toggleResolved({taskUid:this.task.uid,userId:this.user.uid,updates:{resolved:!this.task.resolved}})}},unresolve:{name:"Uncheck",icon:"history",tooltip:"Uncheck",disabled:!1,method:()=>{this.toggleResolved({taskUid:this.task.uid,userId:this.user.uid,updates:{resolved:!this.task.resolved}})}},archive:{name:"archive",icon:"minus",tooltip:"Remove",disabled:!1,method:()=>{this.$emit("drop",{taskUid:this.task.uid}),this.dropDelete({taskUid:this.task.uid})}},visitParent:{name:"visitParent",icon:"angle-left",tooltip:"View Parent Task",disabled:!this.task.parent_task_uid.length,method:()=>{this.routeToPath({path:this.parentLevel})}},visitChildren:{name:"visitChildren",icon:"angle-right",tooltip:"View Subtasks",disabled:this.task.resolved,method:()=>{this.routeToPath({path:this.task.uid})}},addChild:{name:"addChild",icon:"plus",tooltip:"Create Subtask",disabled:this.task.resolved,method:()=>{this.addToCurrent({userId:this.user.uid,parentTask:this.task.uid,addToCurrent:!1})}},drag:{name:"drag",icon:"grip-horizontal-line",tooltip:"",disabled:!1,className:"drag-handle",method:()=>{}}}},activeActions(){return[this.task.resolved?this.actions.unresolve:this.actions.resolve,this.actions.archive,this.actions.visitParent,this.task.child_task_uids.length?this.actions.visitChildren:this.actions.addChild,this.actions.drag]}},methods:{...Object(d["b"])("routerStore",["routeToPath"]),...Object(d["b"])("tasksStore",["announce","editTask","addTask","deleteTask","updateTaskPositions","persistTaskPosition","toggleResolved"]),async addToCurrent({userId:t,title:e,parentTask:s,addToCurrent:a}){console.log({userId:t,title:e,parentTask:s,addToCurrent:a}),await this.addTask({userId:t,title:e,parentTask:s,addToCurrent:a})},drop({taskUid:t}){this.dropGroup.push(t)},dropDelete({taskUid:t}){this.drop({taskUid:t}),this.deleteTask({userId:this.user.uid,taskId:t})}}},N=R,z=(s("f5ca"),Object(l["a"])(N,F,M,!1,null,null,null)),H=z.exports;const G=["Do it now","Stay on track","Prioritize tasks","Take action","Get things done","Maximize productivity","Crush your goals","Focus and accomplish","Stay task-oriented","Seize the day","Embrace efficiency","Plan, execute, succeed","Conquer your list","Stay organized, achieve","Progress over perfection","Complete with speed","Stay motivated, excel","Task mastery achieved","Efficiently conquer tasks","Make it happen","Drive towards success","Finish, move on","Task excellence attained","Proactive task management","Efficiency breeds results","Overcome, achieve more","Stay determined, triumph","Manage tasks effectively","Productivity at its peak","Accomplish, move forward","Excel in all areas","Stay focused, be great","Success through action","Efficiently complete work","Master the to-do","Productivity mission complete","Achieve and exceed","Maximize daily output","Stay disciplined, conquer","Task excellence unlocked","Proactively tackle goals","Efficiency drives success","Overcome, reach heights","Stay committed, shine","Do, not postpone","Task mastery unlocked","Conquer and thrive","Daily progress matters","Stay task-driven, soar","Productive actions matter","Finish strong, surpass","Complete swiftly, succeed","Take charge, accomplish","Stay motivated, conquer","Task mastery attained","Efficiently embrace focus","Plan, execute, dominate","Make progress daily","Stay organized, excel","Unlock task excellence","Productivity in motion","Achieve greatness daily","Stay driven, succeed","Efficiency breeds triumph","Overcome, accomplish more","Stay determined, conquer","Task mastery in action","Productivity at its best","Accomplish, move on","Task-driven success","Seize opportunities","Task management triumph","Stay focused, be productive","Success through action","Efficiently complete tasks","Master the to-do list","Productivity mission complete","Achieve and exceed","Maximize daily output","Stay disciplined, conquer","Task excellence unlocked","Proactively tackle goals","Efficiency drives success","Overcome, reach heights","Stay committed, shine","Do, not postpone","Task mastery unlocked","Conquer and thrive","Daily progress matters","Stay task-driven, soar","Productive actions matter","Finish strong, surpass","Complete swiftly, succeed","Take charge, accomplish","Stay motivated, conquer","Task mastery attained","Efficiently embrace focus","Plan, execute, dominate","Make progress daily","Stay organized, excel","Unlock task excellence","Productivity in motion","Achieve greatness daily","Stay driven, succeed","Efficiency breeds triumph","Overcome, accomplish more","Stay determined, conquer","Task mastery in action","Productivity at its best","Accomplish, move on","Task-driven success","Seize opportunities","Task management triumph","Stay focused, be productive","Success through action","Efficiently complete tasks","Master the to-do list","Productivity mission complete","Achieve and exceed","Maximize daily output","Stay disciplined, conquer","Task excellence unlocked","Proactively tackle goals","Efficiency drives success","Overcome, reach heights","Stay committed, shine","Do, not postpone","Task mastery unlocked","Conquer and thrive","Daily progress matters","Stay task-driven, soar","Productive actions matter","Finish strong, surpass","Complete swiftly, succeed","Take charge, accomplish","Stay motivated, conquer","Task mastery attained","Efficiently embrace focus","Plan, execute, dominate","Make progress daily","Stay organized, excel","Unlock task excellence","Productivity in motion","Achieve greatness daily","Stay driven, succeed","Efficiency breeds triumph","Overcome, accomplish more","Stay determined, conquer","Task mastery in action","Productivity at its best","Accomplish, move on","Task-driven success","Seize opportunities","Task management triumph","Stay focused, be productive"],K=t=>t[Math.floor(Math.random()*t.length)],B=()=>(console.log(K(G)),K(G));const $=({event:t,tasks:e})=>{const s=t.oldIndex,a=t.newIndex,i=e[s],r=e[a];let o;if(a>s)if(a===e.length-1)o=r.position+1;else{const t=e[a+1];o=r.position+(t.position-r.position)/2}else if(a<s)if(0===a){const t=e[1];o=t.position/2}else{const t=e[a-1];o=t.position+(r.position-t.position)/2}return o=parseFloat(o.toFixed(3)),i.position=o,[i,o]};var V={name:"Tasks",components:{draggable:f.a,ChildTasks:q,TaskActions:H},props:{uid:{type:String,required:!0}},data(){return{newTaskTitle:"",dropGroup:[]}},updated:function(){this.taskToFocus&&this.$refs[this.taskToFocus]&&this.focusTask({ref:this.$refs[this.taskToFocus][0]})},computed:{...Object(d["c"])("tasksStore",["tasks","tasksLoading","parentLevel","taskToFocus","adding"]),...Object(d["c"])({user:"userStore/user"}),unresolved(){return this.tasks.filter(t=>!t.resolved)},sortedTasks:{get(){return this.tasks},set(t){this.updateTaskPositions(t)}}},methods:{...Object(d["b"])("routerStore",["routeToPath"]),...Object(d["b"])("tasksStore",["announce","editTask","addTask","deleteTask","updateTaskPositions","persistTaskPosition","focusTask"]),drop({taskUid:t}){this.dropGroup.push(t)},async onDragEnd(t){const[e,s]=$({event:t,tasks:this.sortedTasks});await this.persistTaskPosition({taskUid:e.uid,updates:{position:s}})}}},X=V,J=(s("e78e"),Object(l["a"])(X,m,k,!1,null,null,null)),W=J.exports,Q=function(){var t=this,e=t._self._c;return e("section",{staticClass:"breadcrumb-wrap container"},[t._v(" "+t._s()+" "),t.loading?e("b-loading",{attrs:{"is-full-page":!1,active:t.loading}}):e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{staticClass:"breadcrumb",attrs:{tag:"router-link",to:"/"}},[t._v(" Hello "+t._s(t.user.name)+" ")]),t._l(t.breadcrumbs,(function(s,a){return e("b-breadcrumb-item",{key:s.uid,staticClass:"breadcrumb",attrs:{tag:a===t.breadcrumbs.length-1?"span":"router-link",to:a!==t.breadcrumbs.length-1?"/"+s.uid:null}},[t._v(" "+t._s(s.title)+" ")])}))],2)],1)},Y=[],Z={name:"Breadcrumbs",props:{uid:{type:String}},computed:{...Object(d["c"])({authenticated:"userStore/authenticated",user:"userStore/user"}),...Object(d["c"])("tasksStore",["tasks"])},data(){return{breadcrumbs:[],loading:!1}},methods:{async populateBreadcrumbs(t){if(!t)return this.breadcrumbs=[];try{this.loading=!0;const e=await I({uid:t});this.breadcrumbs=e.data}catch(e){console.error(e)}finally{this.loading=!1}}},watch:{uid(t,e){console.log({to:t,from:e}),this.populateBreadcrumbs(t)}}},tt=Z,et=(s("c53b"),Object(l["a"])(tt,Q,Y,!1,null,null,null)),st=et.exports,at=function(){var t=this,e=t._self._c;return e("form",{ref:"add",staticClass:"add-task",on:{submit:function(t){return t.preventDefault(),null.apply(null,arguments)}}},[e("b-button",{staticClass:"add-task__button",class:{sticky:t.sticky},attrs:{type:"is-primary","native-type":"submit"},on:{click:function(e){return e.preventDefault(),t.addToCurrent({userId:t.user.uid,title:t.newTaskTitle,parentTask:t.uid,addToCurrent:!0})}}},[e("unicon",{attrs:{name:"plus",fill:"currentColor"}}),t._v(" Add Task ")],1)],1)},it=[],rt={name:"ChildTasks",data(){return{newTaskTitle:"",height:0}},props:{uid:{type:String,required:!0}},mounted(){this.updateButtonHeight()},computed:{...Object(d["c"])({user:"userStore/user"}),...Object(d["c"])("tasksStore",["tasks"]),sticky(){return console.log(this.height),this.height<150}},methods:{...Object(d["b"])("tasksStore",["addTask"]),async addToCurrent({userId:t,title:e,parentTask:s,addToCurrent:a}){await this.addTask({userId:t,title:e,parentTask:s,addToCurrent:a})},updateButtonHeight(){console.log("updateButtonHeight");const t=this.$refs.add;t&&(this.height=t.getBoundingClientRect().height)}},watch:{tasks(){this.updateButtonHeight()}}},ot=rt,nt=(s("65c2"),Object(l["a"])(ot,at,it,!1,null,null,null)),dt=nt.exports,ct={name:"App",components:{Header:h}},ut=ct,lt=(s("31ef"),Object(l["a"])(ut,i,r,!1,null,null,null)),pt=lt.exports,ht=s("8c4f"),mt=function(){var t=this,e=t._self._c;return t.user?e("div",{staticClass:"home"},[e("Breadcrumbs",{attrs:{uid:t.uid}}),e("Tasks",{attrs:{uid:t.uid}}),e("CreateTask",{attrs:{uid:t.uid}})],1):t._e()},kt=[],gt={name:"Home",components:{Tasks:W,Breadcrumbs:st,CreateTask:dt},props:{uid:{type:String,default:""}},watch:{uid:{handler:"fetchTasks",immediate:!0}},data(){return{newTaskTitle:""}},computed:{...Object(d["c"])({authenticated:"userStore/authenticated",user:"userStore/user"})},methods:{...Object(d["b"])("tasksStore",["loadTasks"]),fetchTasks(){this.authenticated&&this.user&&this.loadTasks({userId:this.user.uid,taskUid:this.uid})}}},ft=gt,vt=(s("f5a3"),Object(l["a"])(ft,mt,kt,!1,null,null,null)),bt=vt.exports,Tt=function(){var t=this,e=t._self._c;return e("dialog",{staticClass:"login",attrs:{open:""}},[e("form",{staticClass:"form",attrs:{action:"/login",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.login({email:t.email,password:t.password})}}},[e("b-field",{attrs:{label:"Email",horizontal:""}},[e("b-input",{attrs:{type:"email",maxlength:"30",name:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),e("b-field",{attrs:{label:"Password",horizontal:""}},[e("b-input",{attrs:{type:"password",value:"iwantmytreasure","password-reveal":"",name:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),e("b-button",{attrs:{type:"is-primary is-light","native-type":"submit"}},[t._v("Login")])],1),e("router-link",{attrs:{to:"/register"}},[t._v("Register")])],1)},yt=[],St={name:"Login",data(){return{email:"",password:""}},methods:{...Object(d["b"])("userStore",["login"])}},_t=St,wt=(s("75eb"),Object(l["a"])(_t,Tt,yt,!1,null,"d94035de",null)),Et=wt.exports,Ot=function(){var t=this,e=t._self._c;return e("dialog",{staticClass:"register",attrs:{open:""}},[e("form",{attrs:{action:"/register",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.submitRegisterDetails({name:t.name,email:t.email,password:t.password})}}},[e("b-field",{attrs:{label:"Email",horizontal:""}},[e("b-input",{attrs:{"native-type":"text",maxlength:"30",name:"name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),e("b-field",{attrs:{label:"Name",horizontal:""}},[e("b-input",{attrs:{"native-type":"text",maxlength:"30",name:"name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),e("b-field",{attrs:{label:"Password",horizontal:""}},[e("b-input",{attrs:{"native-type":"text",maxlength:"30",name:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),e("button",{attrs:{type:"submit"}},[t._v("Register")])],1),e("a",{attrs:{href:"/login"}},[t._v("Login")])])},Ct=[],Pt={name:"Register",data(){return{name:"",email:"",password:""}},methods:{...Object(d["b"])(["submitRegisterDetails"])}},Ut=Pt,At=Object(l["a"])(Ut,Ot,Ct,!1,null,null,null),xt=At.exports,It=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e("h2",[t._v("about page")]),e("br"),e("h1",[t._v(t._s(t.uid))]),e("h1",[t._v(t._s(t.uid2))])])},jt=[],Dt={name:"About",props:{uid:{type:String,required:!1},uid2:{type:String,required:!1}},computed:{...Object(d["c"])("userStore",["authenticated","user"])},methods:{...Object(d["b"])("tasksStore",["loadTasks"]),logTasks(){console.log(this.tasks)}}},Lt=Dt,qt=Object(l["a"])(Lt,It,jt,!1,null,null,null),Ft=qt.exports;a["a"].use(ht["a"]);const Mt=[{path:"/about/:uid/:uid2",name:"About",props:!0,component:Ft},{path:"/login",name:"Login",component:Et},{path:"/register",name:"Register",component:xt},{path:"/:uid?",name:"Home",props:!0,component:bt}],Rt=new ht["a"]({mode:"history",base:"/",routes:Mt});var Nt=Rt,zt={namespaced:!0,state:{authenticated:!1,user:null},getters:{authenticated:t=>t.authenticated,user:t=>t.user},mutations:{SET_AUTHENTICATED:t=>{t.authenticated=!0},DEAUTHENTICATE:t=>{t.authenticated=!1},SET_USER:(t,e)=>{t.user={...e.data}}},actions:{register:async({commit:t,dispatch:e},s)=>{const a=await E(s);a.announce&&e("announce",{message:a.announce.message,type:a.announce.type}),t("")},login:async({commit:t,dispatch:e},s)=>{const a=await O(s);a.announce?e("announce",{message:a.announce.message,type:a.announce.type}):a.data.error||(t("SET_AUTHENTICATED"),console.log({response:a}),t("SET_USER",a),e("routerStore/routeToHomePage",{},{root:!0}))},logout:({commit:t})=>{t("DEAUTHENTICATE"),t("SET_USER",null)},routeToHomePage:()=>{Nt.push({path:"/"})}}},Ht={namespaced:!0,actions:{routeToLoginPage:()=>{Nt.push({path:"/login"})},routeToHomePage:()=>{Nt.push({path:"/"})},routeToPath:({commit:t},{path:e})=>{console.log(t,e),Nt.push({path:"/"+e})}}},Gt=(s("42bc"),{namespaced:!0,state:{tasks:[],tasksLoading:!1,parentLevel:"",taskToFocus:null,adding:!1},getters:{tasks:t=>t.tasks.sort((t,e)=>t.position-e.position),tasksLoading:t=>t.tasksLoading,parentLevel:t=>t.parentLevel,taskToFocus:t=>t.taskToFocus,adding:t=>t.adding},mutations:{SET_TASKS:(t,{tasks:e})=>{t.tasks=e},UPDATE_TASK:(t,{task:e})=>{t.tasks=t.tasks.map(t=>t.uid===e.uid?e:t)},TOGGLE_RESOLVED:(t,{taskUid:e})=>{t.tasks=t.tasks.map(t=>t.uid===e?{...t,resolved:!t.resolved}:t)},ADD_TASK:(t,{task:e})=>{t.tasks=[...t.tasks,e]},REMOVE_TASK:(t,{taskUid:e})=>{t.tasks=t.tasks.filter(t=>t.uid!==e)},SET_TASKS_LOADING:(t,{isLoading:e})=>{console.log(e),t.tasksLoading=e},UPDATE_TASK_POSITIONS:(t,{updatedTasks:e})=>{console.log(e),t.tasks=e},SET_PARENT_LEVEL:(t,{parentLevel:e})=>{t.parentLevel=e||""},NEXT_TO_FOCUS:(t,{uid:e})=>{t.taskToFocus=e||""},SET_ADDING:(t,{isAdding:e})=>{console.log(e),t.adding=e}},actions:{setTasks:({commit:t},{tasks:e})=>{t("SET_TASKS",{tasks:e})},loadTasks:async({commit:t},{userId:e,taskUid:s=""})=>{console.log("loadTasks",{userId:e,taskUid:s}),t("SET_TASKS_LOADING",{isLoading:!0});const a=await w({userId:e,taskUid:s}),i=await _({userId:e,taskUid:s}),r=null===i||void 0===i?void 0:i.parent_task_uid;t("SET_PARENT_LEVEL",{parentLevel:r}),t("SET_TASKS",{tasks:a}),t("SET_TASKS_LOADING",{isLoading:!1})},editTask:async({commit:t},{taskUid:e,updates:s})=>{const{data:a}=await C({taskUid:e,updates:s});console.log(t,a)},addTask:async({commit:t,dispatch:e},{userId:s,title:a,parentTask:i,addToCurrent:r=!1})=>{r&&t("SET_ADDING",{isAdding:!0});const o=B(),n=await U({userId:s,title:a||o,parentTask:i}),{uid:d}=n.data.task;return i&&await P({taskUid:i,action:"add",childTaskUid:d}),r?(t("ADD_TASK",{task:{...n.data.task,title:o}}),t("SET_ADDING",{isAdding:!1})):e("routerStore/routeToPath",{path:i},{root:!0}),t("NEXT_TO_FOCUS",{uid:d}),n.data.task},deleteTask:async({commit:t},{userId:e,taskId:s})=>{console.log({userId:e,taskId:s}),await A({taskId:s}),t("REMOVE_TASK",{taskUid:s})},updateTaskPositions:({commit:t},e)=>{t("UPDATE_TASK_POSITIONS",{updatedTasks:e})},persistTaskPosition:async({commit:t},{taskUid:e,updates:s})=>{console.log({taskUid:e,updates:s,commit:t}),await C({taskUid:e,updates:s})},focusTask({commit:t},{ref:e}){t("NEXT_TO_FOCUS",{uid:null}),e&&e.focus()},toggleResolved:async({commit:t},{taskUid:e,updates:s})=>{t("TOGGLE_RESOLVED",{taskUid:e}),console.log({taskUid:e,updates:s,commit:t}),await C({taskUid:e,updates:s})}}}),Kt=s("f13a"),Bt=s.n(Kt);a["a"].use(Bt.a,{duration:4e3,dismissible:!0}),a["a"].use(d["a"]);var $t=new d["a"].Store({namespaced:!0,actions:{announce:async({commit:t},{message:e,type:s})=>{console.log({message:e,type:s,commit:t}),a["a"].$toast.open({message:e,type:s})}},modules:{userStore:zt,routerStore:Ht,tasksStore:Gt}}),Vt=s("289d"),Xt=(s("9884"),s("abe2"),s("db29"),s("5abe"),s("cb81")),Jt=s.n(Xt),Wt=s("d327");Jt.a.add([Wt["p"],Wt["g"],Wt["r"],Wt["n"],Wt["j"],Wt["k"],Wt["i"],Wt["d"],Wt["a"],Wt["c"],Wt["b"],Wt["f"],Wt["e"],Wt["h"],Wt["l"],Wt["q"],Wt["o"],Wt["m"]]);var Qt=Jt.a;a["a"].use(Qt),a["a"].use(Vt["a"],{defaultIconPack:"fas"}),new a["a"]({router:Nt,store:$t,render:t=>t(pt)}).$mount("#app")},"65c2":function(t,e,s){"use strict";s("d8c5")},"6cce":function(t,e,s){},"75eb":function(t,e,s){"use strict";s("6cce")},"7bd2":function(t,e,s){},"83f0":function(t,e,s){"use strict";s("1104")},8558:function(t,e,s){},"8a48":function(t,e,s){},9884:function(t,e,s){},a06c:function(t,e,s){},abe2:function(t,e,s){},ac38:function(t,e,s){},bdc9:function(t,e,s){},c53b:function(t,e,s){"use strict";s("7bd2")},d8c5:function(t,e,s){},db29:function(t,e,s){},e78e:function(t,e,s){"use strict";s("ac38")},f5a3:function(t,e,s){"use strict";s("8558")},f5ca:function(t,e,s){"use strict";s("8a48")}});
//# sourceMappingURL=app.f38a6858.js.map